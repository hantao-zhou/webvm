# Use the latest Ubuntu image
FROM --platform=i386 i386/debian:buster
ARG DEBIAN_FRONTEND=noninteractive
# Set the maintainer (optional)
# LABEL maintainer="Your Name <your.email@example.com>"

# Set the non-interactive frontend to avoid interactive prompts during installation
ENV DEBIAN_FRONTEND=noninteractive

# Update the package lists and install required packages
RUN apt update && apt upgrade -y && \
    apt install -y git emacs tmux curl wget unzip zsh fonts-powerline && \
    rm -rf /var/lib/apt/lists/*

# Install Spacemacs
RUN git clone https://github.com/syl20bnr/spacemacs ~/.emacs.d

# Install Oh My Tmux
RUN git clone https://github.com/gpakosz/.tmux.git ~/.tmux && \
    ln -s -f ~/.tmux/.tmux.conf ~/.tmux.conf && \
    cp ~/.tmux/.tmux.conf.local ~/.tmux.conf.local

# Install Oh My Zsh
RUN sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended && \
    chsh -s $(which zsh)

# Set default shell to Zsh
SHELL ["/bin/zsh", "-c"]

# Set default command
CMD ["/bin/zsh"]
